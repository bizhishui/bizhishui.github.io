---
title: Debug C++ code with gdb
layout: post
guid: urn:uuid:73029be0-5b10-4b20-a715-33cca652cbd6
summary: Notes in debuging C++ code with GDN are listed here.
categories:
  - note
tags:
  - Linux
  - C++
  - gdb
---

As there are many tutorials can be found online, like [this one](http://www.math.bas.bg/~nkirov/2005/netb151/debugging-with-gdb.html), 
here I'm not going to list all usages or options of gdb, but just some techniques used in my debuging.

### Program with command line arguments
For a code need supply command line arguments, the gdb debug command is
```
    gdb --args executable arg1 arg2 ... argn
```
For example, an executable code named *foo* takes a file *input* as argument (contains all parameters needed by *foo*),
```
    gdb --args foo input
```

### Debugging a crashed program
When your program is crashed, a segmentation fault, for example. Using the *core dump* will be very helpful in 
locating the causes. The basic [steps](https://stackoverflow.com/questions/7647298/segmentation-fault-when-running-but-success-when-debugging) are,

- type *ulimit -c unlimited* in an xterm (this allows the creation of core/postmorterm files)
- launch your program (and let it crash): a core file should now be present in the directory
- launch the debugger with *gdb yourprogram corefile*
- type *bt* at gdb prompt to see on what line it did crash
- type *frame framenumber* to select a particular frame, and get more info
- use *list* to show the code around this frame, and *info locals* to see the local variables and *print variable* to show its value
